import "./vendor/honovel/framework/src/hono-globals/index.ts";
import { Command } from "https://deno.land/x/cliffy@v1.0.0-rc.4/command/mod.ts";
import MyArtisan from "MyArtisan";

const artisan = new MyArtisan();

await new Command()
  .name("Honovel")
  .description("Honovel CLI")
  .version(FRAMEWORK_VERSION)
  .command("make:config", "Make a new config file")
  .arguments("<name:string>")
  .option("--force", "Force overwrite existing config file")
  .action(artisan.createConfig.bind(artisan))

  .command("make:controller", "Generate a controller file")
  .arguments("<name:string>")
  .option(
    "--resource",
    "Generate a resourceful controller (index, create, store, etc.)"
  )
  .action(artisan.makeController.bind(artisan))

  .command("publish:config", "Build your configs in config/build/myConfig.ts")
  .action(artisan.publishConfig.bind(artisan))
  .parse(Deno.args);
